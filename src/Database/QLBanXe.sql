use master 
create database QLBanxe
use QLBanxe
CREATE TABLE HANGXE(
    MAHANG  NVARCHAR(8)  NOT NULL PRIMARY KEY,
    TenHangXe NVARCHAR(20)
)
CREATE TABLE  XEMAY(
    MAXE NVARCHAR(8)  NOT NULL PRIMARY KEY,
    MAHANG NVARCHAR(8)  ,
    MANOISANXUAT NVARCHAR(8) ,
    MALOAI NVARCHAR(8) ,
    TENXE NVARCHAR(15),
    SOKHUNG NVARCHAR(30),
    SOMAY NVARCHAR(30),
    MAUSON NVARCHAR(20),
    PHANKHOI NVARCHAR(30),
    SOCHONGOI INT,
    DONGIA float,
    ANH NVARCHAR(50)
)
CREATE  TABLE NOISANXUAT(
    MANOISANXUAT NVARCHAR(8)  NOT NULL PRIMARY KEY,
    TENNOISANXUAT NVARCHAR(50)
)
CREATE TABLE LOAIXE(
    MALOAI  NVARCHAR(8) NOT NULL PRIMARY KEY,
    TENLOAI NVARCHAR(20)
)
create TABLE NGUOIDUNG(
    TENTAIKHOAN NVARCHAR(20) PRIMARY KEY not NULL,
    MATKHAU NVARCHAR(20) not NULL,
    TRANGTHAIHOATDONG int not null

)
ALTER TABLE dbo.XEMAY add FOREIGN key (MAHANG) REFERENCES dbo.HANGXE(MAHANG);
ALTER TABLE dbo.XEMAY add FOREIGN key (MANOISANXUAT) REFERENCES dbo.NOISANXUAT(MANOISANXUAT);
ALTER TABLE dbo.XEMAY add FOREIGN key (MALOAI) REFERENCES dbo.LOAIXE(MALOAI);


-- INSERT INTO NGUOIDUNG(TENTAIKHOAN,MATKHAU,TRANGTHAIHOATDONG) VALUES('ADMIN','123',1)


SELECT *FROM XEMAY
SELECT *FROM HANGXE
SELECT *FROM NOISANXUAT
SELECT *FROM LOAIXE
select *from NGUOIDUNG

delete from HANGXE WHERE MAHANG='MX05'
delete from NOISANXUAT  WHERE MANOISANXUAT ='MX05'
delete from LOAIXE WHERE MALOAI ='MX05'
delete from XEMAY WHERE MAXE='MX05'


DROP TABLE XEMAY
DROP TABLE LOAIXE
DROP TABLE NOISANXUAT 
DROP TABLE HANGXE
DROP TABLE NGUOIDUNG
DROP DATABASE QLBanxe




